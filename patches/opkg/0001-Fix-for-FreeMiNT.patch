From a747a47b828289fb02d79132a1f3163df4cf28cc Mon Sep 17 00:00:00 2001
From: Miro Kropacek <miro.kropacek@gmail.com>
Date: Sun, 28 Apr 2019 16:44:46 +0200
Subject: [PATCH 1/2] Fix for FreeMiNT

---
 libopkg/file_util.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/libopkg/file_util.c b/libopkg/file_util.c
index b4a35af..2c6ec92 100644
--- a/libopkg/file_util.c
+++ b/libopkg/file_util.c
@@ -458,7 +458,7 @@ int rm_r(const char *path)
         if (!strcmp(dent->d_name, ".") || !strcmp(dent->d_name, ".."))
             continue;
 
-#ifdef _BSD_SOURCE
+#if defined _BSD_SOURCE && !defined __MINT__
         if (dent->d_type == DT_DIR) {
             ret = rm_r(dent->d_name);
             if (ret == -1)
-- 
2.20.1

